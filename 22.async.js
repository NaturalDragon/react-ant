(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[22],{ZOrW:function(e,a,t){"use strict";var n=t("g09b"),l=t("tAuX");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("14J3");var r=n(t("BMrR"));t("jCWc");var s=n(t("kPKH"));t("qVdP");var i=n(t("jsC+"));t("Pwec");var d=n(t("CtXQ"));t("lUTK");var u,c,o,f=n(t("BvKs")),p=n(t("2Taf")),h=n(t("vZ4D")),g=n(t("MhPg")),m=n(t("l4Ni")),y=n(t("ujKo")),v=l(t("q1tI")),b=t("MuoO"),D=n(t("v99g")),k=t("+n12"),T=n(t("lVjH")),E=n(t("xqX8"));function C(e){var a=P();return function(){var t,n=(0,y.default)(e);if(a){var l=(0,y.default)(this).constructor;t=Reflect.construct(n,arguments,l)}else t=n.apply(this,arguments);return(0,m.default)(this,t)}}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}var S=v.default.lazy(function(){return Promise.all([t.e(0),t.e(36)]).then(t.t.bind(null,"Y65U",7))}),R=v.default.lazy(function(){return Promise.all([t.e(0),t.e(39)]).then(t.t.bind(null,"20K/",7))}),x=v.default.lazy(function(){return Promise.all([t.e(0),t.e(40)]).then(t.t.bind(null,"b2ve",7))}),w=v.default.lazy(function(){return Promise.all([t.e(0),t.e(38)]).then(t.t.bind(null,"tLGd",7))}),K=v.default.lazy(function(){return Promise.all([t.e(0),t.e(37)]).then(t.t.bind(null,"Jqna",7))}),V=(u=(0,b.connect)(function(e){var a=e.chart,t=e.loading;return{chart:a,loading:t.effects["chart/fetch"]}}),u((o=function(e){(0,g.default)(t,e);var a=C(t);function t(){var e;(0,p.default)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return e=a.call.apply(a,[this].concat(l)),e.state={salesType:"all",currentTabKey:"",rangePickerValue:(0,k.getTimeDistance)("year")},e.handleChangeSalesType=function(a){e.setState({salesType:a.target.value})},e.handleTabChange=function(a){e.setState({currentTabKey:a})},e.handleRangePickerChange=function(a){var t=e.props.dispatch;e.setState({rangePickerValue:a}),t({type:"chart/fetchSalesData"})},e.selectDate=function(a){var t=e.props.dispatch;e.setState({rangePickerValue:(0,k.getTimeDistance)(a)}),t({type:"chart/fetchSalesData"})},e.isActive=function(a){var t=e.state.rangePickerValue,n=(0,k.getTimeDistance)(a);return t[0]&&t[1]&&t[0].isSame(n[0],"day")&&t[1].isSame(n[1],"day")?T.default.currentDate:""},e}return(0,h.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;this.reqRef=requestAnimationFrame(function(){e({type:"chart/fetch"})})}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"chart/clear"}),cancelAnimationFrame(this.reqRef),clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e,a=this.state,t=a.rangePickerValue,n=a.salesType,l=a.currentTabKey,u=this.props,c=u.chart,o=u.loading,p=c.visitData,h=c.visitData2,g=c.salesData,m=c.searchData,y=c.offlineData,b=c.offlineChartData,k=c.salesTypeData,C=c.salesTypeDataOnline,P=c.salesTypeDataOffline;e="all"===n?k:"online"===n?C:P;var V=v.default.createElement(f.default,null,v.default.createElement(f.default.Item,null,"\u64cd\u4f5c\u4e00"),v.default.createElement(f.default.Item,null,"\u64cd\u4f5c\u4e8c")),I=v.default.createElement("span",{className:T.default.iconGroup},v.default.createElement(i.default,{overlay:V,placement:"bottomRight"},v.default.createElement(d.default,{type:"ellipsis"}))),q=l||y[0]&&y[0].name;return v.default.createElement(D.default,null,v.default.createElement(v.Suspense,{fallback:v.default.createElement(E.default,null)},v.default.createElement(S,{loading:o,visitData:p})),v.default.createElement(v.Suspense,{fallback:null},v.default.createElement(R,{rangePickerValue:t,salesData:g,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:o,selectDate:this.selectDate})),v.default.createElement(r.default,{gutter:24},v.default.createElement(s.default,{xl:12,lg:24,md:24,sm:24,xs:24},v.default.createElement(v.Suspense,{fallback:null},v.default.createElement(x,{loading:o,visitData2:h,selectDate:this.selectDate,searchData:m,dropdownGroup:I}))),v.default.createElement(s.default,{xl:12,lg:24,md:24,sm:24,xs:24},v.default.createElement(v.Suspense,{fallback:null},v.default.createElement(w,{dropdownGroup:I,salesType:n,loading:o,salesPieData:e,handleChangeSalesType:this.handleChangeSalesType})))),v.default.createElement(v.Suspense,{fallback:null},v.default.createElement(K,{activeKey:q,loading:o,offlineData:y,offlineChartData:b,handleTabChange:this.handleTabChange})))}}]),t}(v.Component),c=o))||c),I=V;a.default=I},lVjH:function(e,a,t){e.exports={iconGroup:"antd-pro-pages-dashboard-analysis-iconGroup",rankingList:"antd-pro-pages-dashboard-analysis-rankingList",rankingItemNumber:"antd-pro-pages-dashboard-analysis-rankingItemNumber",active:"antd-pro-pages-dashboard-analysis-active",rankingItemTitle:"antd-pro-pages-dashboard-analysis-rankingItemTitle",salesExtra:"antd-pro-pages-dashboard-analysis-salesExtra",currentDate:"antd-pro-pages-dashboard-analysis-currentDate",salesCard:"antd-pro-pages-dashboard-analysis-salesCard",salesBar:"antd-pro-pages-dashboard-analysis-salesBar",salesRank:"antd-pro-pages-dashboard-analysis-salesRank",salesCardExtra:"antd-pro-pages-dashboard-analysis-salesCardExtra",salesTypeRadio:"antd-pro-pages-dashboard-analysis-salesTypeRadio",offlineCard:"antd-pro-pages-dashboard-analysis-offlineCard",trendText:"antd-pro-pages-dashboard-analysis-trendText",rankingTitle:"antd-pro-pages-dashboard-analysis-rankingTitle",salesExtraWrap:"antd-pro-pages-dashboard-analysis-salesExtraWrap"}}}]);